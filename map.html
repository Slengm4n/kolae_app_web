<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <link
      rel="icon"
      href="https://i.postimg.cc/Ss21pvVJ/Favicon.png"
      type="image/png"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mapa de Quadras - Kolae App</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <script src="https://cdn.tailwindcss.com">
              tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'dark-bg': '#181C24',
                        'light-bg': '#202C34',
                        'kolae-blue': '#0788DE',
                        'kolae-hover': '#1d9eef',
                    },
                    boxShadow: {
                        'custom-strong': '0 10px 14px rgba(0, 0, 0, 1)',
                        'bar-shadow': '0 -3px 10px rgba(0, 0, 0, 0.4)',
                    }
                }
            }
        }
    </script>
    <style>
      body {
        font-family: "Poppins", sans-serif;
        -webkit-font-smoothing: antialiased;
      }
      /* Ajuste para o scroll da sidebar de detalhes */
      #venue-sidebar-content {
        height: calc(
          100% - 60px
        ); /* Altura total menos o padding/botão de fechar */
        overflow-y: auto;
      }
      /* Esconde as setas de input[type=number] */
      input::-webkit-outer-spin-button,
      input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }
      input[type="number"] {
        -moz-appearance: textfield;
      }
    </style>
  </head>
  <body class="bg-[#0D1117] text-gray-200">
    <div class="flex h-screen overflow-hidden">
      <!-- Sidebar de Navegação (Menu Principal) -->
      <aside
        id="sidebar"
        class="fixed top-0 left-0 z-40 w-64 h-screen bg-[#181C24] border-r border-gray-800 flex flex-col transition-transform -translate-x-full md:translate-x-0"
      >
        <div class="p-6 text-center border-b border-gray-800">
          <div
            class="w-24 h-24 rounded-full bg-gray-700 mx-auto flex items-center justify-center mb-4"
          >
            <i class="fas fa-user text-4xl text-cyan-400"></i>
          </div>
          <h2 id="user-name-placeholder" class="text-xl font-bold">Usuário</h2>
          <p class="text-sm text-gray-400">Kolae App</p>
        </div>
        <nav class="flex-1 px-4 py-6 space-y-2">
          <a
            href="#"
            class="flex items-center gap-4 px-4 py-3 text-sm font-semibold bg-cyan-500/10 text-cyan-400 rounded-lg"
          >
            <i class="fas fa-map-marker-alt w-5 text-center"></i
            ><span>Mapa</span>
          </a>
          <!-- Adicione mais links aqui se precisar -->
        </nav>
        <div class="p-4 border-t border-gray-800">
          <!-- Botão de Sair -->
          <button
            id="logout-button"
            class="w-full flex items-center gap-4 px-4 py-3 text-sm font-semibold text-red-400 hover:bg-red-500/10 rounded-lg transition-colors"
          >
            <i class="fas fa-sign-out-alt w-5 text-center"></i><span>Sair</span>
          </button>
        </div>
      </aside>

      <!-- Overlay para menu mobile -->
      <div
        id="sidebar-overlay"
        class="fixed inset-0 bg-black/60 z-30 hidden md:hidden"
      ></div>

      <!-- Conteúdo Principal (Mapa) -->
      <main class="md:ml-64 flex-1 relative">
        <!-- Onde o Google Maps será renderizado -->
        <div id="map" class="w-full h-full"></div>

        <!-- Botão de Menu Mobile -->
        <button
          id="sidebar-toggle"
          class="md:hidden absolute top-4 left-4 z-10 text-white bg-black/40 p-3 rounded-lg backdrop-blur-sm shadow-lg"
        >
          <i class="fas fa-bars text-lg"></i>
        </button>

        <!-- Barra de Pesquisa (opcional, pode ser removida) -->
        <div
          class="hidden md:block absolute top-6 left-1/2 -translate-x-1/2 z-10 w-full max-w-md px-4"
        >
          <div
            class="relative bg-[#161B22] border border-gray-700 rounded-lg shadow-lg"
          >
            <input
              type="text"
              placeholder="Buscar pelo nome do local..."
              class="venue-search-input block w-full rounded-lg border-0 bg-transparent py-3 pl-10 pr-3 text-gray-200 placeholder:text-gray-500 focus:ring-2 focus:ring-inset focus:ring-cyan-500 sm:text-sm"
            />
            <div
              class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"
            >
              <i class="fas fa-search text-gray-500"></i>
            </div>
          </div>
        </div>

        <!-- Sidebar de Informações da Quadra (Inspirada no seu exemplo) -->
        <div
          id="venue-sidebar"
          class="absolute top-0 right-0 h-full  w-full sm:max-w-sm bg-[#161B22] shadow-lg transform transition-transform duration-300 ease-in-out translate-x-full z-20 border-l border-gray-800 flex flex-col"
        >
          <button
            id="close-sidebar-btn"
            class="absolute top-4 right-4 text-gray-500 hover:text-white z-50"
          >
            <i class="fas fa-times text-xl"></i>
          </button>

          <!-- Conteúdo com Scroll -->
          <div
            id="venue-sidebar-content"
            class="flex-grow  pt-12 overflow-y-auto"
          >

            <h2 id="venue-name" class="text-3xl font-bold text-white text-center mb-2">
              Selecione uma quadra
            </h2>

            <img
              id="venue-image"
              src="https://placehold.co/400x200/161B22/E0E0E0?text=Kolae"
              alt="Foto do local"
              class="w-[70%] mx-auto h-48 object-cover rounded-[20px] border-2 border-white mb-5 max-w-full sm:max-w-sm "
            />

            <div class="bg-[#202C34] rounded-[30px] mb-2 shadow-lg p-6 w-full">

            <div class="flex items-center gap-4 p-4 rounded-[20px] mb-10 shadow-[0_0_20px_rgba(0,0,0,0.6)]">
                <img
                    id='owner-image'
                    src="https://placehold.co/256x256/1f2937/9ca3af?text=Foto"
                    alt="Foto do Dono"
                    class="w-16 h-16 rounded-full object-cover border-2 border-kolae-blue"
                />
                <div>
                    <h3 class="text-md font-semibold text-gray-300">Dono da Quadra</h3>
                    <p id='owner-name' class="text-lg font-bold text-white">Nome do Dono</p>
                </div>
                
            </div>

            

            <div>
            <p id="venue-address" class="text-gray-400 mt-1 mb-4">
              Clique em um pino no mapa...
            </p>

            <div class="border-b border-gray-700 mb-4"></div> <!-- LINHA -->

            <div>
              <h3 class="text-lg font-semibold mb-2">Comodidades</h3>
              <div
                id="venue-amenities"
                class="flex flex-wrap gap-2 text-sm text-gray-500"
              >
                (Nenhuma quadra selecionada)
              </div>
            </div>

            <div class="border-b border-gray-700 mt-4 mb-4"></div>
            </div>
            <!-- Formulário para Criar Partida -->
            <div>
              <h2 class="text-2xl font-bold text-white mb-4">
                Iniciar Partida
              </h2>

              <form id="create-game-form" class="space-y-4">
                <!-- Input escondido para guardar o ID da quadra selecionada -->
                <input type="hidden" id="venue-id-hidden" name="venue-id" />

                <div class="form-group">
                  <label
                    for="sport-select"
                    class="block text-sm font-medium text-gray-300"
                    >Esporte:</label
                  >
                  <select
                    id="sport-select"
                    name="sport-id"
                    required
                    class="w-full mt-1 bg-gray-800 border border-gray-700 rounded-md px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-cyan-400"
                  >
                    <option value="">Carregando esportes...</option>
                  </select>
                </div>

                <div class="form-group">
                  <label
                    for="start-time"
                    class="block text-sm font-medium text-gray-300"
                    >Data e Hora de Início:</label
                  >
                  <input
                    type="datetime-local"
                    id="start-time"
                    name="start-time"
                    required
                    class="w-full mt-1 bg-gray-800 border border-gray-700 rounded-md px-4 py-3 text-sm text-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-400"
                  />
                </div>

              </div>

                <p id="game-error-message" class="text-red-400 text-sm h-4"></p>
                <p
                  id="game-success-message"
                  class="text-green-400 text-sm h-4"
                ></p>


                <button
                    type="submit"
                    id="create-game-button"
                    class="w-full flex justify-center py-3 px-4 rounded-md text-sm font-bold text-black bg-cyan-400 hover:bg-cyan-300 transition-colors">
                    Iniciar Partida
                  </button>
              </form>
            </div>
          </div>
          <!-- Fim do #venue-sidebar-content -->
        </div>
        <!-- Fim do #venue-sidebar -->
      </main>
    </div>

    <!-- 
      !!! IMPORTANTE !!! 
      Substitua 'SUA_CHAVE_API_DO_GOOGLE_MAPS_AQUI' pela sua chave de API real.
      Você pode pegar esta chave do seu arquivo config.php do projeto Kolae. [cite: `slengm4n/kolae/kolae-f963b8caf4b3df3a1c05e5e87dfd49e7d973aaad/config.example.php`]
    -->
    <script
      async
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBQWIOMMnTnuoKmr9Qkvkfkaif45pzTSoE&callback=runMapScript"
    ></script>

    <!-- Script principal da página do mapa -->
    <script src="map.js"></script>

    <!-- Script de inicialização (para contornar o problema do 'callback') -->
    <script>
      // Esta função é chamada pelo Google Maps assim que ele carrega
      function runMapScript() {
        // Disparamos um evento customizado que o map.js está ouvindo
        document.dispatchEvent(new Event("google-maps-loaded"));
      }
    </script>
  </body>
</html>
